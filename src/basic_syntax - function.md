# ফাংশন

রাস্টে ফাংশন ডিক্লেয়ার করে ‍`fn‍‍‍` keyword দিয়ে। `fn` এর পরে ফাংশন এর নাম দিতে হয়। এরপর `(` এর ভিতরে
ফাংশনের যদি আর্গুমেন্ট লাগে তাহলে টাইপসহ এগুলোর নাম লিখতে হয় অনেকটা এরকমভাবেঃ `name: type`. এরপর ‍`)`
দিতে হয়। তারপর, ফাংশন যদি কোনো কিছু রিটার্ন করে তাহলে সেজন্য `->` দিয়ে রিটার্ন টাইপটি লিখতে হয়। যেমন, যদি কোনো
ফাংশন `String` রিটার্ন করে তবে এটা দেখতে হবে এরকম: `-> String`. এরপর, ‍`{` দিয়ে ফাংশন বডি শুরু করতে হয়
এবং `}` দিয়ে ফাংশন বডি শেষ হয়।

অনেক কথা হলো, এবার আসল কাজে আসা যাক। প্রথমে আমরা একটি ফাংশন লিখবো যেটা শুধু আমাদের জানায় যে তাকে কল করা
হয়েছে:

```rust
fn call_me() {
    println!("Hello, I'm `call_me`. You've just called me.");    
}

fn main() {
    call_me();
}
```

এবার আরেকটু ইন্টারেস্টিং করা যাক ফাংশনটাকে, আমরা এটাতে আমাদের নাম পাঠাবো। রাস্টে `String` নামে একটি টাইপ আছে
যার কাজ হচ্ছে Text রাখা। তাহলে, আমরা এই টাইপকে আমাদের আর্গুমেন্ট হিসেবে ব্যবহার করবো।

```rust
fn call_me(name: String) {
    println!("Hello {}! I'm `call me`. You've just called me.", name);
}

fn main() {
    call_me("Noor");
}
```

সমস্যা হচ্ছে, আমরা এটা রান করলে নিচের এরর পাবো:

```error
error[E0308]: mismatched types
 --> src/main.rs:6:13
  |
6 |     call_me("Noor");
  |     ------- ^^^^^^- help: try using a conversion method: `.to_string()`
  |     |       |
  |     |       expected `String`, found `&str`
  |     arguments to this function are incorrect
  |
note: function defined here
 --> src/main.rs:1:4
  |
1 | fn call_me(name: String) {
  |    ^^^^^^^ ------------

For more information about this error, try `rustc --explain E0308`.
error: could not compile `hello_world` (bin "hello_world") due to previous error
```

রাস্ট কম্পাইলার এর একটা ভালো বৈশিষ্ট্য হচ্ছে এটি খুব সুন্দরভাবে আপনার ভুল ধরে দিবে আর কি ভুল করেছেন তা ধরে দিবে। রাস্টে অনেক ধরণের
স্ট্রিং টাইপ আছে। এর মধ্যে সবচেয়ে ব্যবহৃত হয় `&str` আর `String`. এখন, যখন আমরা সরাসরি `"Hello World"` লিখি, সেটার টাইপ
হচ্ছে `&str`. এটি মুলত কোনো স্ট্রিং এর রেফারেন্স বুঝায়। এই স্ট্রিং stack allocated কিংবা heap allocated হতে পারে। আর `String` টাইপ
শুধু heap allocated স্ট্রিং বুঝায়। তাছাড়া এগুলোর মধ্যে ‍`Ownership` এরও পার্থক্য আছে। আমরা এটা নিয়ে পরে দেখবো। যাইহোক, কম্পাইলার বলছে
আমরা `&str` এর `to_string` ফাংশন কল করে সেটিকে `String` এ রূপান্তর করবে। তাহলে আমরা সেটিই করি:

```rust
fn call_me(name: String) {
    println!("Hello {}! I'm `call me`. You've just called me.", name);
}

fn main() {
    call_me("Noor".to_string();
}
```

এবার এটারকে রান করলে আমরা কাঙ্খিত ফলাফল পাবো। যাইহোক, এখন আমরা আরেকটা ফাংশন লিখবো যেটি দুটি সংখ্যা যোগ করে সেগুলোর যোগফল প্রদর্শন করে।
রাস্টে সংখ্যার জন্য অনেক অনেক ধরণের টাইপ আছে। সব টাইপ নিয়ে আপাতত আমরা মাথা ঘামাবো না। আমরা সংখ্যার জন্য `i64` টাইপ ব্যবহার করবো। এই টাইপের
বৈশিষ্ট্য হচ্ছে, এটি 64bit এর সংখ্যা রাখতে পারে আর তার সাথে সংখ্যাটি ঋণাত্মকও হতে পারে। তাহলে, আমরা দুটি আর্গুমেন্ট নিবো ‍`a` এবং `b` যেগুলোর টাইপ হবে
‍`i64`. আমাদের ফাংশন এর রাখবো ‍`add`. তাহলে কোড নিচের মতো হবে:

```rust
fn add(a: i64, b: i64) {
    println!("{} + {} = {}", a, b, a + b);
}

fn main() {
    add(1, 2);
    add(420, 69);
}
```

এখন, আমরা যদি চাই যোগফল রিটার্ন নিতে চাই ফাংশন থেকে, সেক্ষেত্রে আমরা ফাংশনটিকে নিচের মতো লিখতে পারি:

```rust
fn add(a: i64, b: i64) -> i64 {
    return a + b;
}

fn main() {
    println!("{} + {} = {}", 1, 2, add(1, 2));
    println!("{} + {} = {}", 420, 69, add(420, 69));
}
```

চাইলে আমরা কোডটিকে আরো সুন্দর আর [idiomatic](https://www.merriam-webster.com/dictionary/idiomatic) ভাবে লিখতে পারি:

```rust
fn add(a: i64, b: i64) -> i64 {
    a + b
}

fn main() {
    println!("{} + {} = {}", 1, 2, add(1, 2));
    println!("{} + {} = {}", 420, 69, add(420, 69));
}
```

এখানে রাস্টের একটা চমৎকার একটি ফিচার আমরা ব্যবহার করেছি। সেটি হচ্ছে, কোনো কোড ব্লক এর শেষের expression এর পরে সেমিকোলন না থাকে, তবে
কোড ব্লক এর কোড রান করার পর সেই ভ্যালু পাওয়া যায়। `{` আর `}` এর মধ্যে কোড লিখলে সেট হচ্ছে একটা কোড ব্লক। ফাংশন এর রিটার্ন ভ্যালু হয় কোড
ব্লক এর ভ্যালুটি। আমরা এখন থেকে খুব বেশি প্রয়োজন না হলে `return` ব্যবহার করবো না। কখন রিটার্ন ব্যবহার করতে হবে আর কখন করতে হবে না সেটা
আমি পরের চ্যাপ্টারগুলোতে দেখাবো।

এই ছিলো ফাংশন নিয়ে বেসিক আলোচনা। এখন পাঠকদের কাছে আমি একট বাড়ির কাজ দিবো। সেটা হচ্ছে, তিনটি সংখ্যার গড় বের করার প্রোগ্রাম লিখা।
এর জন্য একটি হিন্ট দিচ্ছি: রাস্টে 64-bit ফ্লোটিং পয়েন্ট সংখ্যার জন্য টাইপ হচ্ছে `f64`. 
